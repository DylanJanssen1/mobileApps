<!DOCTYPE html>
<html lang="nl">
<head>
    <!-- Vereiste meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Home</title>
    <!-- Material.io bestanden (CSS & Font/icons)-->
    <!-- Uitleg werking componenents: https://material.io/components?platform=web -->
    <!-- Demo van components:         https://material-components.github.io/material-components-web-catalog/#/ -->
    <!-- Demo en uitleg icons:        https://fonts.google.com/icons?selected=Material+Icons -->
    <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <link rel="icon" type="image/png" href="images/rocket.svg">
    <link rel="manifest" href="manifest.json">

    <meta name="description" content="Een simpele PWA met memes">
    <meta name="theme-color" content="#018786">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="GCMemes PWA">
    <link rel="apple-touch-icon" href="images/rocket.svg">
    <script>
        window.addEventListener('load', () => {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('service-worker.js')
            }
        });
    </script>
    <style>body {
        margin: 0;
    }</style>
    <style>
        :root {
            --mdc-theme-primary: #018786;
        }

        footer .mdc-tab-scroller__scroll-content {
            background: var(--mdc-theme-primary) !important;
        }

        footer .mdc-tab__icon {
            color: white !important;
        }

        main .mdc-tab-bar {
            background: lightgray
        }

        footer {
            position: fixed;
            bottom: 0;
            width: 100%;
        }

        .mdc-list-item, .mdc-list-item--activated {
            height: 50px !important;
            display: flex;
            align-items: center;
        }

        .gc-logo {
            height: 75px;
        }

        .mdc-image-list--masonry {
            column-count: 2;
        }

        .hidden {
            display: none;
        }

        header, footer {
            max-width: 100vw;
        }

        .sheet {
            position: absolute;
            top: 0;
            width: 100%;
            margin-left: 0;
            background: white;
            transition: margin-left 0.3s ease;
        }

        .sheet-form {
            position: absolute;
            top: 0;
            width: 100%;
            margin-left: 0;
            background: white;
            transition: margin-left 0.3s ease;
        }

        .sheet-out-of-view {
            margin-left: 100%;
        }

        .sheet main {
            min-height: calc(100vh - 56px - 48px);
        }

        .sheet main img {
            width: 100%;
            height: auto;
        }

        .mdc-touch-target-wrapper {
            position: fixed;
            bottom: 55px;
            right: 10px;
        }

        #home-link:link, #home-link:visited, #home-link:hover {
            color: white;
            text-decoration: none;
        }

    </style>

    <!-- Material.io bestanden (JS en registratie componenten) -->
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>const MDCBanner = mdc.banner.MDCBanner;
    const MDCCheckbox = mdc.checkbox.MDCCheckbox;
    const MDCChip = mdc.chips.MDCChip;
    const MDCChipSet = mdc.chips.MDCChipSet;
    const MDCCircularProgress = mdc.circularProgress.MDCCircularProgress;
    const MDCDataTable = mdc.dataTable.MDCDataTable;
    const MDCDialog = mdc.dialog.MDCDialog;
    const MDCDrawer = mdc.drawer.MDCDrawer;
    const MDCFloatingLabel = mdc.floatingLabel.MDCFloatingLabel;
    const MDCFormField = mdc.formField.MDCFormField;
    const MDCIconButtonToggle = mdc.iconButton.MDCIconButtonToggle;
    const MDCLineRipple = mdc.lineRipple.MDCLineRipple;
    const MDCLinearProgress = mdc.linearProgress.MDCLinearProgress;
    const MDCList = mdc.list.MDCList;
    const MDCMenu = mdc.menu.MDCMenu;
    const MDCMenuSurface = mdc.menuSurface.MDCMenuSurface;
    const MDCNotchedOutline = mdc.notchedOutline.MDCNotchedOutline;
    const MDCRadio = mdc.radio.MDCRadio;
    const MDCRipple = mdc.ripple.MDCRipple;
    const MDCSegmentedButton = mdc.segmentedButton.MDCSegmentedButton;
    const MDCSelect = mdc.select.MDCSelect;
    const MDCSlider = mdc.slider.MDCSlider;
    const MDCSnackbar = mdc.snackbar.MDCSnackbar;
    const MDCSwitch = mdc.switchControl.MDCSwitch;
    const MDCTabBar = mdc.tabBar.MDCTabBar;
    const MDCTextField = mdc.textField.MDCTextField;
    const MDCTooltip = mdc.tooltip.MDCTooltip;
    const MDCTopAppBar = mdc.topAppBar.MDCTopAppBar;</script>

</head>

<body>
<!-- HTML web-elementen -->

<aside class="mdc-drawer mdc-drawer--modal">
    <div class="mdc-drawer__content">
        <div class="mdc-graafschapcollege">
            <a href="index.html"><img class="gc-logo" src="images/Graafschap-college.png"></a>
        </div>
        <nav class="mdc-list">
            <a class="mdc-list-item mdc-list-item--activated" href="#" aria-current="page" tabindex="0">
                <span class="mdc-list-item__ripple"></span>
                <i class="material-icons mdc-list-item__graphic" aria-hidden="true">home</i>
                <span class="mdc-list-item__text">Home</span>
            </a>
            <a class="mdc-list-item" href="#">
                <span class="mdc-list-item__ripple"></span>
                <i class="material-icons mdc-list-item__graphic" aria-hidden="true">question_answer</i>
                <span class="mdc-list-item__text">Chat</span>
            </a>
            <a class="mdc-list-item" href="#">
                <span class="mdc-list-item__ripple"></span>
                <i class="material-icons mdc-list-item__graphic" aria-hidden="true">account_circle</i>
                <span class="mdc-list-item__text">Account</span>
            </a>
        </nav>
    </div>
</aside>

<div class="mdc-drawer-scrim"></div>
<div>

    <header class="mdc-top-app-bar">
        <div class="mdc-top-app-bar__row">
            <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
                <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button"
                        aria-label="Open navigation menu" id="hambur_menu">menu
                </button>
                <a id='home-link' href="index.html"><span
                        class="mdc-top-app-bar__title">Home</span></a>
            </section>
            <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
                <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Search">search
                </button>
                <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Options">
                    more_vert
                </button>
            </section>
        </div>
    </header>

    <main class="mdc-top-app-bar--fixed-adjust" id="main-content">
        <div class="mdc-tab-bar" role="tablist">
            <div class="mdc-tab-scroller">
                <div class="mdc-tab-scroller__scroll-area">
                    <div class="mdc-tab-scroller__scroll-content">
                        <button class="mdc-tab mdc-tab--active" role="tab" aria-selected="true" tabindex="1">
          <span class="mdc-tab__content">
            <span class="mdc-tab__text-label">Memes</span>
          </span>
                            <span class="mdc-tab-indicator mdc-tab-indicator--active">
            <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
          </span>
                            <span class="mdc-tab__ripple"></span>
                        </button>
                    </div>

                    <div class="mdc-tab-scroller__scroll-content">

                        <button class="mdc-tab mdc-tab--active" role="tab" aria-selected="false" tabindex="2">
          <span class="mdc-tab__content">
            <span class="mdc-tab__text-label">Fails</span>
          </span>
                            <span class="mdc-tab-indicator ">
            <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
          </span>
                            <span class="mdc-tab__ripple"></span>
                        </button>
                    </div>

                    <div class="mdc-tab-scroller__scroll-content">
                        <button class="mdc-tab mdc-tab--active" role="tab" aria-selected="false" tabindex="3">
          <span class="mdc-tab__content">
            <span class="mdc-tab__text-label">Tweets</span>
          </span>
                            <span class="mdc-tab-indicator ">
            <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
          </span>
                            <span class="mdc-tab__ripple"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <ul class="mdc-image-list mdc-image-list--masonry my-masonry-image-list">
            <li class="mdc-image-list__item memes">
                <img class="mdc-image-list__image" src="images/ArrowInTheKnee.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item memes">
                <img class="mdc-image-list__image" src="images/cover1.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item memes">
                <img class="mdc-image-list__image" src="images/ForeverAlone.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item memes">
                <img class="mdc-image-list__image" src="images/freddy.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item memes">
                <img class="mdc-image-list__image" src="images/Graafschap-college.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item memes">
                <img class="mdc-image-list__image" src="images/Graafschap-college.png" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item memes">
                <img class="mdc-image-list__image"
                     src="images/groothoekopname-van-een-enkele-boom-die-groeit-onder-een-bewolkte-hemel-tijdens-een-zonsondergang-omgeven-door-gras_181624-22807.webp"
                     alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item tweets">
                <img class="mdc-image-list__image" src="images/HasANyone.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item memes">
                <img class="mdc-image-list__image" src="images/hellothere.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item tweets">
                <img class="mdc-image-list__image" src="images/HereDatBoi.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item memes">
                <img class="mdc-image-list__image" src="images/imposibru.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item memes">
                <img class="mdc-image-list__image" src="images/lucioano.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item fails">
                <img class="mdc-image-list__image" src="images/mockingspongebobbb.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item tweets">
                <img class="mdc-image-list__image" src="images/momocens.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item fails">
                <img class="mdc-image-list__image" src="images/mooi-belichte-foto.webp" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item memes">
                <img class="mdc-image-list__image" src="images/NoMeGusta.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item memes">
                <img class="mdc-image-list__image" src="images/pepefroggie.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item tweets">
                <img class="mdc-image-list__image" src="images/pressf.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item fails">
                <img class="mdc-image-list__image" src="images/ricardo.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item fails">
                <img class="mdc-image-list__image" src="images/Screen_Shot_2018-10-25_at_11.02.15_AM.png"
                     alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item memes">
                <img class="mdc-image-list__image" src="images/ScumbagSteve.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item tweets">
                <img class="mdc-image-list__image" src="images/ThinkstockPhotos-610004886-2048x1497-1-1024x749.jpg"
                     alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
            <li class="mdc-image-list__item fails">
                <img class="mdc-image-list__image" src="images/ugandanknuck.jpg" alt="https://rroll.to/iHgSMg">
                <div class="mdc-image-list__supporting">
                </div>
            </li>
        </ul>
        <div class="mdc-touch-target-wrapper">
            <button class="mdc-fab mdc-fab mdc-fab--touch">
                <div class="mdc-fab__ripple"></div>
                <span class="material-icons mdc-fab__icon">add</span>
                <div class="mdc-fab__touch"></div>
            </button>
        </div>
    </main>

    <footer>
        <div class="mdc-tab-bar" role="tablist">
            <div class="mdc-tab-scroller">
                <div class="mdc-tab-scroller__scroll-area">
                    <div class="mdc-tab-scroller__scroll-content">
                        <button class="mdc-tab mdc-tab--active" role="tab" aria-selected="false" tabindex="0">
          <span class="mdc-tab__content">
            <span class="mdc-tab__icon material-icons" aria-hidden="true">groups</span>
          </span>
                            <span class="mdc-tab-indicator mdc-tab-indicator--active">
            <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
          </span>
                            <span class="mdc-tab__ripple"></span>
                        </button>
                    </div>

                    <div class="mdc-tab-scroller__scroll-content">
                        <button class="mdc-tab mdc-tab--active" role="tab" aria-selected="false" tabindex="0">
          <span class="mdc-tab__content">
            <span class="mdc-tab__icon material-icons" aria-hidden="true">account_circle</span>
          </span>
                            <span class="mdc-tab-indicator mdc-tab-indicator--active">
            <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
          </span>
                            <span class="mdc-tab__ripple"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <section class="sheet hidden sheet-out-of-view sheet-meme" id="sheet-meme">

        <header class="mdc-top-app-bar mdc-top-app-bar--fixed mdc-top-app-bar-meme">
            <div class="mdc-top-app-bar__row">
                <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
                    <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button"
                            aria-label="Close sheet navigation menu" onclick="closeSheet();">close
                    </button>
                    <span class="mdc-top-app-bar__title meme-title"></span>
                </section>
                <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
                    <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Search">
                        share
                    </button>
                    <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Options">
                        more_vert
                    </button>
                </section>
            </div>
        </header>

        <main class="mdc-top-app-bar--fixed-adjust main-content" id="main-meme">
            <img id="meme-image" alt="meme" src="">
        </main>

        <footer>
            <div class="mdc-tab-bar mdc-tab-bar-meme" role="tablist">
                <div class="mdc-tab-scroller">
                    <div class="mdc-tab-scroller__scroll-area">
                        <div class="mdc-tab-scroller__scroll-content">
                            <button class="mdc-tab mdc-tab" role="tab" aria-selected="false" tabindex="0">
                <span class="mdc-tab__content">
                  <span class="mdc-tab__icon material-icons" aria-hidden="true">thumb_up</span>
                </span>
                                <span class="mdc-tab-indicator">
                  <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                </span>
                                <span class="mdc-tab__ripple"></span>
                            </button>
                            <button class="mdc-tab mdc-tab" role="tab" aria-selected="false" tabindex="0">
                <span class="mdc-tab__content">
                  <span class="mdc-tab__icon material-icons" aria-hidden="true">favorite</span>
                </span>
                                <span class="mdc-tab-indicator">
                  <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                </span>
                                <span class="mdc-tab__ripple"></span>
                            </button>
                            <button class="mdc-tab mdc-tab" role="tab" aria-selected="false" tabindex="0">
                <span class="mdc-tab__content">
                  <span class="mdc-tab__icon material-icons" aria-hidden="true">thumb_down</span>
                </span>
                                <span class="mdc-tab-indicator">
                  <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                </span>
                                <span class="mdc-tab__ripple"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

    </section>

    <section class="sheet hidden sheet-out-of-view sheet-meme" id="sheet-form">

        <header class="mdc-top-app-bar mdc-top-app-bar--fixed mdc-top-app-bar-meme">
            <div class="mdc-top-app-bar__row">
                <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
                    <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button"
                            aria-label="Close sheet navigation menu" onclick="closeSheet();">close
                    </button>
                    <span class="mdc-top-app-bar__title">Meme titel</span>
                </section>
                <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
                    <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Search">
                        share
                    </button>
                    <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Options">
                        more_vert
                    </button>
                </section>
            </div>
        </header>

        <main class="mdc-top-app-bar--fixed-adjust main-content" id="main-form">
            <!--            <form>-->
            <!--                <label for="meme-title">Title</label>-->
            <!--                <input type="text" id="meme-title">-->
            <!--            </form>-->
            <label class="mdc-text-field mdc-text-field--filled">
                <span class="mdc-text-field__ripple"></span>
                <span class="mdc-floating-label" id="my-label-id">Title</span>
                <input class="mdc-text-field__input" type="text" aria-labelledby="my-label-id" maxlength="30">
                <span class="mdc-line-ripple"></span>
                <span class="mdc-text-field-character-counter">0 / 30</span>
            </label>
        </main>

        <footer>
            <div class="mdc-tab-bar mdc-tab-bar-meme" role="tablist">
                <div class="mdc-tab-scroller">
                    <div class="mdc-tab-scroller__scroll-area">
                        <div class="mdc-tab-scroller__scroll-content">
                            <button class="mdc-tab mdc-tab" role="tab" aria-selected="false" tabindex="0"></button>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

    </section>
</div>


<!-- Vanaf hier custom Javascript-->
<script>
    const topAppBarElement = document.querySelector('.mdc-top-app-bar');
    const topAppBar = new MDCTopAppBar(topAppBarElement);
    const tabBar = new MDCTabBar(document.querySelector('.mdc-tab-bar'));
    const drawer = MDCDrawer.attachTo(document.querySelector('.mdc-drawer'));
    const fabRipple = new MDCRipple(document.querySelector('.mdc-fab'));
    const textField = new MDCTextField(document.querySelector('.mdc-text-field'));


    hambur_menu.addEventListener('click', (event) => {
        drawer.open = true;
    });

    const topAppBarMeme = new MDCTopAppBar(document.querySelector('.mdc-top-app-bar-meme'));
    const tabBarBottomMeme = new MDCTabBar(document.querySelector('.mdc-tab-bar-meme'));

    // alle image list items op homepage krijgen een methode om de sheet voor de memes te openen
    let imageListItems = document.querySelectorAll('.mdc-image-list__item')
    imageListItems.forEach(imageListItem => {
        imageListItem.addEventListener('click', function () {
            openSheet('sheet-meme')
        });
    });

    // als iemand op vorige drukt (naar home) worden de sheets gesloten
    window.addEventListener('popstate', function () {
        closeSheet();
    })

    document.querySelector('.mdc-touch-target-wrapper').addEventListener('click', function () {
        openSheet('sheet-form')
    })

    function openSheet(sheetID) {
        //selecteer de juiste sheet op basis van id
        let sheet = document.getElementById(sheetID);

        //zorg dat de sheet geladen wordt voor de browser, maar door de margin is deze nog niet in zicht
        sheet.classList.remove('hidden');
        //even wachten zodat het element zichtbaar is voor de browser (wel uit het zicht van de gebruiker) en geanimeerd kan worden
        setTimeout(function () {
            sheet.classList.remove('sheet-out-of-view');
        }, 10);

        //als de homepage heel lang zou zijn kan je onder de sheet door srollen, dat willen we als de sheet open is voorkomen (wel pas na animatie)
        setTimeout(function () {
            let maxHoogteMain = sheet.getElementsByTagName('main')[0].offsetHeight - 10;
            document.getElementById('main-content').style.height = maxHoogteMain + 'px';
            document.getElementById('main-content').style.overflowY = 'hidden';
        }, 300);

        //Pas de url aan zodat de pagina uiteindelijk ook gedeeld kan worden \, maar refresh niet!
        let newURL = window.location.href + '?sheet=' + sheetID;
        history.pushState(null, null, newURL);
    }

    function closeSheet() {

        //herstel de hoogte van de homepage weer naar onspronkelijk formaat
        document.getElementById('main-content').style.height = 'auto';
        document.getElementById('main-content').style.overflowY = 'auto';

        //verwijder eerste "alle" sheets weer uit het zicht met een animatie en daarnaa ook niet meer weergeven in browser
        let sheets = document.querySelectorAll('.sheet');
        sheets.forEach(sheet => {
            sheet.classList.add('sheet-out-of-view');
            setTimeout(function () {
                sheet.classList.add('hidden');
            }, 310);
        });

        //URL weer aanpassen naar home voor de zekerheid
        history.pushState(null, null, window.location.pathname);

    }

    $(document).ready(function ($) {
        $('.mdc-tab').on('click', function () {
            let thisTab = this.children[0].children[0].textContent.toLowerCase();
            $('.mdc-image-list__item').hide();
            $('.' + thisTab).show();
        })

        $('.mdc-image-list__image').on('click', function () {
            let src = this.src;
            let alt = this.alt;
            $('.meme-title').empty().append(alt);
            $('#meme-image').attr('src', src);
        })


    });

</script>
</body>
</html>